<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Blog SEO Analyzer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="container py-5">
    <div class="text-center mb-4">
        <h1 class="display-5 fw-bold text-primary">Blog SEO Analyzer</h1>
        <p class="text-muted">Paste your blog post and analyze its SEO strength</p>
    </div>

    <form method="POST">
        <div class="mb-3">
            <textarea class="form-control" name="article" rows="10" placeholder="Paste your blog article here...">{{ article or '' }}</textarea>
        </div>

        <div class="d-flex flex-wrap gap-2 justify-content-center">
            <button class="btn btn-primary" name="action" value="word_count">Word Count</button>
            <button class="btn btn-success" name="action" value="extract_keywords">Extract Keywords</button>
            <button class="btn btn-warning" name="action" value="generate_headings">Suggest Headings</button>
            <button class="btn btn-info" name="action" value="keyword_distribution">Keyword Distribution</button>
        </div>
    </form>

    {% if analysis %}
    <div class="mt-5 p-4 bg-white rounded shadow-sm border">
        <h4 class="text-secondary mb-3">Analysis Results</h4>
        <ul class="list-group list-group-flush">
            {% if analysis.word_count %}
            <li class="list-group-item">Word Count: <strong>{{ analysis.word_count }}</strong></li>
            {% endif %}

            {% if analysis.main_keyword %}
            <li class="list-group-item">Main Keyword: <strong>{{ analysis.main_keyword }}</strong></li>
            {% endif %}

            {% if analysis.secondary_keywords %}
            <li class="list-group-item">Secondary Keywords:
                <strong>{{ analysis.secondary_keywords | join(', ') }}</strong>
            </li>
            {% endif %}

            {% if analysis.headings %}
            <li class="list-group-item">
                Suggested Headings:
                <ul>
                    <li><strong>H1:</strong> {{ analysis.headings.h1 }}</li>
                    <li><strong>H2:</strong> {{ analysis.headings.h2 }}</li>
                    <li><strong>H3:</strong> {{ analysis.headings.h3 }}</li>
                </ul>
            </li>
            {% endif %}

            {% if analysis.distribution %}
            <li class="list-group-item">
                Keyword Distribution:
                <ul>
                    {% for keyword, positions in analysis.distribution.items() %}
                    <li><strong>{{ keyword }}</strong>: {{ positions|length }} occurrence(s)</li>
                    {% endfor %}
                </ul>
            </li>
            {% endif %}
        </ul>
    </div>
    {% endif %}
</div>
</body>
</html>
